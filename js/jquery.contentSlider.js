(function(e,t,n){"use strict";var r=t.Modernizr;var i=document.documentElement.clientWidth;e.CBPContentSlider=function(t,n){this.$el=e(n);this._init(t)};e.CBPContentSlider.defaults={speed:500,easing:"ease-in-out",current:0};e.CBPContentSlider.prototype={_init:function(t){this.options=e.extend(true,{},e.CBPContentSlider.defaults,t);this.$icon=this.$el.find("img.icono");this.$items=this.$el.find("ul.secciones > li").hide();this.$tab=this.$el.find("nav");this.$tabs=this.$el.find("nav > a");var n=this.$tabs.length;this.current=this.options.current;this.old=0;this.isAnimating=false;this.support=r.csstransitions;var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};this.transEndEventName=i[r.prefixed("transition")]+".cbpContentSlider";if(this.support){this.$items.css("transition","left "+this.options.speed+"ms "+this.options.easing)}this._updateTabs();this.$items.eq(this.current).show();this._initEvents()},_updateTabs:function(){this.$tabs.eq(this.old).removeClass("active").end().eq(this.current).addClass("active");if(i<768){this.$tab.css("display","none")}},_initEvents:function(){var n=this;this.$tabs.on("click",function(r){var s=e(this).index();if(s!==n.current&&!n.isAnimating){n.isAnimating=true;var o,u,a=0;var f=parseInt(i/5);if(t.orientation>=0){switch(s){case 0:o=20;u=26;a=(1*f-o)/2;break;case 1:o=20;u=26;a=parseInt((f-o)/2+f);break;case 2:o=20;u=22;a=parseInt((f-o)/2+2*f);break;case 3:o=20;u=12;a=parseInt((f-o)/2+3*f);break;case 4:o=20;u=22;a=parseInt((f-o)/2+4*f);break}}else{switch(s){case 0:o=40;u=52;a=(f-o)/2;break;case 1:o=40;u=53;a=parseInt((f-o)/2+f);break;case 2:o=40;u=45;a=parseInt((f-o)/2+2*f);break;case 3:o=40;u=23;a=parseInt((f-o)/2+3*f);break;case 4:o=40;u=45;a=parseInt((f-o)/2+4*f);break}}if(i>767){n.$icon.css("opacity","0");n.$icon.attr("src","/img/fig"+parseInt(s+1)+".png");n.$icon.attr("height",u+"px").attr("width",o+"px");n.$icon.animate({left:a+"px",opacity:1},1e3)}else{n.$icon.css("display","none")}var l=s>n.current?"right":"left",c=n.$items.eq(n.current),h=n.$items.eq(s);n.old=n.current;n.current=s;if(n.support){h.css("left",l==="right"?"100%":"-100%")}h.show();var p=function(){c.off(n.transEndEventName).hide();n.isAnimating=false};if(n.support){c.on(n.transEndEventName,p)}else{p.call()}if(n.support){setTimeout(function(){c.css("left",l==="right"?"-100%":"100%");h.css("left","0%")},25)}n._updateTabs()}r.preventDefault()})},destroy:function(){if(this.support){this.$items.css("transition","none")}this.$items.css("left",0).show();this.$tabs.off(".cbpContentSlider").removeClass("active")}};var s=function(e){if(t.console){t.console.error(e)}};e.fn.cbpContentSlider=function(t){if(typeof t==="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var r=e.data(this,"cbpContentSlider");if(!r){s("cannot call methods on cbpContentSlider prior to initialization; "+"attempted to call method '"+t+"'");return}if(!e.isFunction(r[t])||t.charAt(0)==="_"){s("no such method '"+t+"' for cbpContentSlider instance");return}r[t].apply(r,n)})}else{this.each(function(){var n=e.data(this,"cbpContentSlider");if(n){n._init()}else{n=e.data(this,"cbpContentSlider",new e.CBPContentSlider(t,this))}})}return this}})(jQuery,window)